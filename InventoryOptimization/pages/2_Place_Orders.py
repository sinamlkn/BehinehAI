import streamlit as st
import pandas as pd
from data import ูพุดููุงุฏุงุช_ุณูุงุฑุด, df, ุจุฑูุฒุฑุณุงู_ููุฌูุฏ

st.set_page_config(page_title="ูุฏุฑุช ุณูุงุฑุดุงุช")

st.title("๐ ูุฏุฑุช ุณูุงุฑุดุงุช ููุฌูุฏ")

ุณูุงุฑุดุงุช_ูพุดููุงุฏ = ูพุดููุงุฏุงุช_ุณูุงุฑุด()

st.subheader("๐ ูพุดููุงุฏุงุช ุณูุงุฑุด ุจุฑุง ุชฺฉูู ฺฉุงูุงูุง ฺฉูโููุฌูุฏ")

if not ุณูุงุฑุดุงุช_ูพุดููุงุฏ.empty:
    st.warning("ุจุฑุฎ ุงุฒ ูุญุตููุงุช ูุงุฒ ุจู ุณูุงุฑุด ูุฌุฏุฏ ุฏุงุฑูุฏ. ูุทูุงู ุณูุงุฑุด ุฏูุฏ!")
    st.dataframe(ุณูุงุฑุดุงุช_ูพุดููุงุฏ)
else:
    st.success("โ ุฏุฑ ุญุงู ุญุงุถุฑ ูุงุฒ ุจู ุณูุงุฑุด ูุฌุฏุฏ ูุณุช.")

# ูุฑู ุซุจุช ุณูุงุฑุด
st.subheader("๐ฆ ุซุจุช ุณูุงุฑุด ุฌุฏุฏ")

ุงูุชุฎุงุจ_ูุญุตูู = st.selectbox("ุงูุชุฎุงุจ ูุญุตูู", df["ูุญุตูู"].tolist())
ุชุนุฏุงุฏ_ุณูุงุฑุด = st.number_input("ุชุนุฏุงุฏ ุณูุงุฑุด", min_value=1, value=10)

if st.button("ุซุจุช ุณูุงุฑุด"):
    ุจุฑูุฒุฑุณุงู_ููุฌูุฏ(ุงูุชุฎุงุจ_ูุญุตูู, ุชุนุฏุงุฏ_ุณูุงุฑุด)  # ุงูุฒูุฏู ุจู ููุฌูุฏ ุงูุจุงุฑ
    st.success(f"๐ฆ {ุชุนุฏุงุฏ_ุณูุงุฑุด} ุนุฏุฏ ุงุฒ {ุงูุชุฎุงุจ_ูุญุตูู} ุจู ุงูุจุงุฑ ุงุถุงูู ุดุฏ!")
    st.rerun()  # ุงุตูุงุญโุดุฏู
